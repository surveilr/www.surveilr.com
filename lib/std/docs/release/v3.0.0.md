# Surveilr v3.0.0 - Drizzle ORM Foundation

## Summary

Migrated internal schema generation from SQLa to [Drizzle ORM](https://orm.drizzle.team/) - a lightweight, type-safe TypeScript ORM. This establishes the foundation for optional type-safe database queries while maintaining our **SQL-first philosophy**.

## What Changed

### Schema Generation (Internal)
- **Replaced**: SQLa-based `lifecycle.sql.ts` → Drizzle-generated bootstrap SQL
- **New**: Type-safe schema definitions in `lib/std/drizzle/models.ts` and `views.ts`
- **Result**: Same RSSD structure with enhanced TypeScript support

### Developer Experience
- **Added**: Optional type-safe query helpers for complex scenarios
- **Maintained**: SQL views remain the preferred approach for business logic

## File Organization
```
lib/std/drizzle/
├── models.ts              # RSSD table schemas
├── views.ts              # SQL view definitions
├── bootstrap.sql.ts       # Schema generator
└── drizzle-lifecycle.ts   # Migration cells
```

## Migration Impact

- **End Users**: No changes to `surveilr` CLI commands
- **Developers**: Optional access to type-safe queries when needed
- **Databases**: Same RSSD structure, generated via Drizzle instead of SQLa

## Technical Validation

- ✅ Identical 65+ table structure generated
- ✅ All foreign key constraints preserved
- ✅ File ingestion, transforms, multitenancy functional
- ✅ Web UI and code notebook systems working
- ✅ Complete test suite passing

---